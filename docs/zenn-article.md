# Slackå±¥æ­´ã‚’æ´»ç”¨ã—ãŸRAGãƒ™ãƒ¼ã‚¹ã®AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒœãƒƒãƒˆã®é–‹ç™º

## ã¯ã˜ã‚ã«

å­¦æ ¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ãƒãƒ¼ãƒ æ´»å‹•ã«ãŠã„ã¦ã€éå»ã®è­°è«–ã‚„æ±ºå®šäº‹é …ã‚’å³åº§ã«å‚ç…§ã™ã‚‹ã“ã¨ã¯é‡è¦ã§ã™ã€‚ã—ã‹ã—ã€Slackã®æ¤œç´¢æ©Ÿèƒ½ã ã‘ã§ã¯ã€æ–‡è„ˆã‚’ç†è§£ã—ãŸä¸Šã§ã®æƒ…å ±æ¤œç´¢ã¯å›°é›£ã§ã™ã€‚

ãã“ã§ã€ãƒãƒ£ãƒ³ãƒãƒ«ã®å±¥æ­´ã‚’å­¦ç¿’ã—ã€è‡ªç„¶ãªå¯¾è©±å½¢å¼ã§æƒ…å ±ã‚’æä¾›ã§ãã‚‹AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚ã“ã®ãƒœãƒƒãƒˆã¯ã€RAGï¼ˆRetrieval-Augmented Generationï¼‰æŠ€è¡“ã‚’æ´»ç”¨ã—ã€éå»ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰é–¢é€£æƒ…å ±ã‚’æ¤œç´¢ãƒ»æä¾›ã—ã¾ã™ã€‚

## ğŸ¯ è§£æ±ºã—ãŸã„èª²é¡Œ

1. **æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹ã®åŠ¹ç‡åŒ–**
   - ãƒãƒ£ãƒ³ãƒãƒ«å†…ã®éå»ã®è­°è«–ã‚„æ±ºå®šäº‹é …ã¸ã®ç´ æ—©ã„ã‚¢ã‚¯ã‚»ã‚¹
   - æ–‡è„ˆã‚’è€ƒæ…®ã—ãŸé–¢é€£æƒ…å ±ã®æä¾›

2. **çŸ¥è­˜ã®å…±æœ‰ã¨æ´»ç”¨**
   - ãƒãƒ¼ãƒ å†…ã®æš—é»™çŸ¥ã®å¯è¦–åŒ–
   - æ–°ãƒ¡ãƒ³ãƒãƒ¼ã®æƒ…å ±åé›†ã‚’ã‚µãƒãƒ¼ãƒˆ

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **è¨€èªã¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**
  - Python 3.10+
  - Slack Bolt Framework

- **AI/MLæŠ€è¡“**
  - Google Gemini APIï¼ˆãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆï¼‰
  - ChromaDBï¼ˆãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
  - RAGï¼ˆRetrieval-Augmented Generationï¼‰

- **ã‚¤ãƒ³ãƒ•ãƒ©**
  - Systemdã‚µãƒ¼ãƒ“ã‚¹
  - ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹è¨­å®šç®¡ç†

## ğŸ’¡ ä¸»è¦æ©Ÿèƒ½

1. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è‡ªå‹•åé›†ã¨ä¿å­˜**
   - æŒ‡å®šãƒãƒ£ãƒ³ãƒãƒ«ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•åé›†
   - ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã—ã¦ChromaDBã«ä¿å­˜

2. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è€ƒæ…®ã—ãŸå¿œç­”ç”Ÿæˆ**
   - ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸè³ªå•ã«å¯¾ã™ã‚‹é–¢é€£ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ¤œç´¢
   - Gemini APIã«ã‚ˆã‚‹è‡ªç„¶ãªå¿œç­”ã®ç”Ÿæˆ

3. **æƒ…å ±æºã®æä¾›**
   - å›ç­”ã®æ ¹æ‹ ã¨ãªã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯
   - ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ã®è¡¨ç¤º

## ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```mermaid
graph TD
    A[Slack Channel] -->|Messages| B[Message Sync]
    B -->|Vectorize| C[ChromaDB]
    D[User Question] -->|Mention| E[Slack Bot]
    E -->|Search| C
    E -->|Generate| F[Gemini API]
    F -->|Response| E
    E -->|Reply| A
```

## ğŸ“ å®Ÿè£…ã®è©³ç´°

### 1. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åé›†ã¨ä¿å­˜

```python
async def sync_channel(self, channel_id: str):
    messages = self.slack_client.fetch_channel_history(channel_id)
    vectors = self.vectorizer.vectorize_messages(messages)
    self.vector_store.add_messages(vectors)
```

### 2. è³ªå•å¿œç­”ã‚·ã‚¹ãƒ†ãƒ 

```python
def answer_question(self, question: str) -> tuple[str, List[dict]]:
    # è³ªå•ã‚’ãƒ™ã‚¯ãƒˆãƒ«åŒ–
    query_vector = self.vectorizer.vectorize_query(question)
    
    # é–¢é€£ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ¤œç´¢
    relevant_messages = self.vector_store.search_similar(
        query_vector=query_vector,
        n_results=self.max_context_messages
    )
    
    # Geminiã§å›ç­”ã‚’ç”Ÿæˆ
    response = self.model.generate_content(
        self._construct_prompt(question, relevant_messages)
    )
    
    return response.text, relevant_messages
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ã¨é‹ç”¨

ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦å®Ÿè£…ã—ã€è‡ªå‹•èµ·å‹•ã¨ç›£è¦–ã‚’å®Ÿç¾ï¼š

```ini
[Unit]
Description=Slack AI Assistant Bot
After=network.target

[Service]
User=your-username
WorkingDirectory=/path/to/SlackAIBot
Environment=PATH=/path/to/venv/bin
ExecStart=/path/to/venv/bin/python src/main.py
Restart=always

[Install]
WantedBy=multi-user.target
```

## ğŸ“Š çµæœã¨åŠ¹æœ

1. **æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹ã®æ”¹å–„**
   - è³ªå•ã‹ã‚‰å›ç­”ã¾ã§ã®æ™‚é–“ã‚’å¤§å¹…ã«çŸ­ç¸®
   - é–¢é€£æƒ…å ±ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯ã«ã‚ˆã‚Šã€æ–‡è„ˆã®ç†è§£ãŒå®¹æ˜“ã«

2. **ãƒãƒ¼ãƒ é‹å–¶ã®åŠ¹ç‡åŒ–**
   - æ–°ãƒ¡ãƒ³ãƒãƒ¼ã®æƒ…å ±åé›†æ™‚é–“ã®å‰Šæ¸›
   - ãƒãƒ¼ãƒ å†…çŸ¥è­˜ã®åŠ¹ç‡çš„ãªå…±æœ‰

## ğŸ”œ ä»Šå¾Œã®å±•é–‹

1. **æ©Ÿèƒ½ã®æ‹¡å¼µ**
   - ç”»åƒèªè­˜æ©Ÿèƒ½ã®è¿½åŠ 
   - è¤‡æ•°ãƒãƒ£ãƒ³ãƒãƒ«ã®æ¨ªæ–­æ¤œç´¢

2. **ç²¾åº¦ã®å‘ä¸Š**
   - æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ”¹å–„
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®æœ€é©åŒ–

## ğŸ”— å‚è€ƒãƒªãƒ³ã‚¯

- [GitHub Repository](https://github.com/shahin99991/slack-ai-assistant)
- [Slack Bolt Python](https://slack.dev/bolt-python/concepts)
- [Google Gemini API](https://ai.google.dev/)
- [ChromaDB Documentation](https://docs.trychroma.com/)

## ã¾ã¨ã‚

RAGã‚’æ´»ç”¨ã—ãŸSlackãƒœãƒƒãƒˆã®é–‹ç™ºã«ã‚ˆã‚Šã€ãƒãƒ¼ãƒ å†…ã®æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹ã¨çŸ¥è­˜å…±æœ‰ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é€šã˜ã¦ã€AIã¨æ—¢å­˜ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ãƒãƒ¼ãƒ ã®ç”Ÿç”£æ€§ã‚’å‘ä¸Šã•ã›ã‚‹å¯èƒ½æ€§ã‚’ç¤ºã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹](https://github.com/shahin99991/slack-ai-assistant/blob/main/LICENSE)ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

- âœ… å•†ç”¨åˆ©ç”¨å¯èƒ½
- âœ… æ”¹å¤‰å¯èƒ½
- âœ… å†é…å¸ƒå¯èƒ½
- âœ… ç§çš„åˆ©ç”¨å¯èƒ½
- âŒ ç„¡ä¿è¨¼
- âŒ è²¬ä»»å…é™¤

ã‚³ãƒ¼ãƒ‰ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½¿ç”¨ã€æ”¹å¤‰ã€å†é…å¸ƒã¯è‡ªç”±ã«è¡Œã£ã¦ã„ãŸã ã‘ã¾ã™ãŒã€è‘—ä½œæ¨©è¡¨ç¤ºã¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¡¨ç¤ºã‚’ä¿æŒã—ã¦ãã ã•ã„ã€‚
